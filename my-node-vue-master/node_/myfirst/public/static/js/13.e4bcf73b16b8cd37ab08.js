webpackJsonp([13],{461:function(t,e,n){function i(t){n(630)}var o=n(8)(n(557),n(665),i,"data-v-0e4b267b",null);t.exports=o.exports},557:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(96),o=n.n(i),r=n(700);n.n(r);e.default={components:{VueTinymce:r.VueTinymce,TinymceSetting:r.TinymceSetting},data:function(){return{show_content1_html:!1,show_content2_html:!1,content1:"<p>可直接粘贴图片地址插入图片</p>",setting1:o()({},r.TinymceSetting,{height:200,language_url:"./static/langs/zh_CN.js",block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;"}),content2:'<p>Tinymce inlite主题</p><hr><p>这里输入时回车可快速插入选择本地图片和表格 <img src="//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/19/heia_thumb.gif" data-key="[哈哈]"></img></p>',setting2:o()({},r.TinymceSetting,{height:200,language_url:"./static/langs/zh_CN.js",block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;",menubar:!1,keep_styles:!1,theme:"inlite",inline:!0,invalid_styles:"color font-size",plugins:"image table link paste contextmenu textpattern autolink",insert_toolbar:"quickimage quicktable",selection_toolbar:"bold italic | quicklink h2 h3 blockquote",paste_data_images:!0})}},methods:{getTinymceId:function(t){alert(this.$refs[t].id)},insertImg:function(t,e){var n=e.path,i=e.key;t.undoManager.transact(function(){t.focus(),t.selection.setContent(t.dom.createHTML("img",{src:n,"data-key":i}))})},insertEmotion:function(t,e){this.insertImg(t,{key:e,path:this.emotions[e]})},formatHtml:function(t,e){var n=new tinymce.html.DomParser,i=new tinymce.html.Serializer,o=n.parse(t);return o.getAll("img").map(function(t){var e=t.attr("data-key")||"";if(e.length>0){var n=new tinymce.html.Node("span",1),i=new tinymce.html.Node("#text",3);i.value=e,n.append(i),t.replace(n)}}),i.serialize(o)},restoreHtml:function(t,e){var n=new tinymce.html.DomParser,i=new tinymce.html.Serializer,o=n.parse(t);return o.getAll("#text").map(function(t){var n=e[t.value];if(n){var i=new tinymce.html.Node("img",1);i.attr("data-key",t.value),i.attr("src",n),t.replace(i)}}),i.serialize(o)}}}},602:function(t,e,n){e=t.exports=n(444)(!0),e.push([t.i,".editor-content[data-v-0e4b267b]{margin-top:20px}.intro-head[data-v-0e4b267b]{text-align:center;margin:10px}","",{version:3,sources:["E:/wanpWWW/node-vue-react-mongodb/vue_/src/views/Tinymce.vue"],names:[],mappings:"AACA,iCACE,eAAiB,CAClB,AACD,6BACI,kBAAmB,AACnB,WAAa,CAChB",file:"Tinymce.vue",sourcesContent:["\n.editor-content[data-v-0e4b267b]{\n  margin-top: 20px;\n}\n.intro-head[data-v-0e4b267b]{\n    text-align: center;\n    margin: 10px;\n}\n"],sourceRoot:""}])},630:function(t,e,n){var i=n(602);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(445)("5cb274cb",i,!0)},665:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-container"},[t._m(0),t._v(" "),n("p",{staticClass:"intro-head"},[t._v("作者的原项目有一些bug，自己改进一个临时的 ")]),t._v(" "),n("Row",{attrs:{gutter:20}},[n("Col",{attrs:{span:12}},[n("vue-tinymce",{ref:"tinymce",attrs:{setting:t.setting1},model:{value:t.content1,callback:function(e){t.content1=e},expression:"content1"}})],1),t._v(" "),n("Col",{attrs:{span:"12"}},[n("vue-tinymce",{ref:"tinymce",attrs:{setting:t.setting2},model:{value:t.content2,callback:function(e){t.content2=e},expression:"content2"}})],1)],1),t._v(" "),n("Row",{attrs:{gutter:20}},[n("Col",{attrs:{span:12}},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.show_content1_html=!t.show_content1_html}}},[t._v("点击切换显示内容")]),t._v(" "),t.show_content1_html?n("div",[t._v(t._s(t.content1))]):n("div",{domProps:{innerHTML:t._s(t.content1)}})],1),t._v(" "),n("Col",{attrs:{span:12}},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.show_content2_html=!t.show_content2_html}}},[t._v("点击切换显示内容")]),t._v(" "),t.show_content2_html?n("div",[t._v(t._s(t.content2))]):n("div",{domProps:{innerHTML:t._s(t.content2)}})],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"intro-head"},[n("a",{attrs:{href:"https://github.com/lpreterite/vue-tinymce",target:"_blank"}},[t._v("vue-tinymce")])])}]}},700:function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=3)}([function(t,e,n){"use strict";e.a={menubar:!1,height:500,theme:"modern",toolbar_items_size:"small",plugins:["advlist autolink link image lists charmap print hr anchor pagebreak spellchecker","searchreplace visualblocks visualchars code fullscreen media nonbreaking","table directionality emoticons template textcolor paste textcolor colorpicker textpattern"],style_formats:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}],block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;",toolbar1:"insertfile undo redo | formatselect | bullist numlist | link unlink | uploadimg image media | fullscreen",toolbar2:"styleselect fontsizeselect | forecolor backcolor | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | outdent indent | removeformat"}},function(t,e,n){var i=n(4)(n(2),null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:String,default:""},setup:{type:Function,default:function(){}},setting:{type:Object,default:function(){return tinymceSetting}}},render:function(t){return t("div",{attrs:{id:this.id}})},data:function(){return{id:"vue-tinymce-"+Date.now(),editor:null,status:0,backup:""}},watch:{value:function(t){if(2===this.status)return this.status=1;this.editor&&this.editor.initialized&&this.editor.setContent(t)}},created:function(){if("undefined"==typeof tinymce)throw new Error("tinymce undefined")},mounted:function(){var t=this,e=Object.assign({},this.setting,{selector:"#"+this.id,setup:function(e){t.setup(e),t.editor=e,e.on("init",function(){e.setContent(t.value),e.on("input change undo redo execCommand KeyUp",function(){if(1===t.status||0===t.status)return t.status=2;t.$emit("input",e.getContent()),console.log("editor change",e.getContent())}),e.on("NodeChange",function(){t.$emit("input",e.getContent())})})}});tinymce.init(e)},beforeDestroy:function(){this.editor.remove()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),r=n(0);n.d(e,"VueTinymce",function(){return o.a}),n.d(e,"TinymceSetting",function(){return r.a}),e.default=o.a},function(t,e){t.exports=function(t,e,n,i){var o,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,r=t.default);var c="function"==typeof r?r.options:r;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),n&&(c._scopeId=n),i){var s=Object.create(c.computed||null);Object.keys(i).forEach(function(t){var e=i[t];s[t]=function(){return e}}),c.computed=s}return{esModule:o,exports:r,options:c}}}])})}});
//# sourceMappingURL=13.e4bcf73b16b8cd37ab08.js.map