{"version":3,"sources":["webpack:///static/js/12.2ca9d83a8fbcba6be270.js","webpack:///./src/views/system/merber/list.vue","webpack:///./src/utils/validate.js?1382**","webpack:///list.vue","webpack:///./src/views/system/merber/list.vue?ed0d","webpack:///./src/views/system/merber/list.vue?877a","webpack:///./src/views/system/merber/list.vue?ac14"],"names":["webpackJsonp","486","module","exports","__webpack_require__","injectStyle","ssrContext","Component","489","__webpack_exports__","isWscnEmail","str","test","trim","oneOf","value","validList","i","length","d","isPhone","phone","582","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_utils_validate__","__WEBPACK_IMPORTED_MODULE_1_utils_tools__","filterDate","data","_this","this","validatePhone","rule","callback","Error","Collapse","loading","addMerber","tableData","_id","username","password","jurisdiction","gender","age","__v","logindate","formValidate","jurisdictionList","label","merberColumns","type","width","align","title","key","sortable","filters","filterMethod","row","render","h","params","props","size","style","marginRight","on","click","edit","index","events","remove","ruleValidate","required","message","trigger","validator","skipPage","pageSize","currentPage","sort","condition","total","methods","reqMerberList","_this2","vFetch","merberList","then","res","$Message","info","status","obj","forEach","item","Array","isArray","slice","page","$forceUpdate","exportData","$refs","table","exportCsv","filename","original","$router","push","path","query","_this3","token","$store","state","user","merberRemove","splice","btnMerberOk","btnMerberCancel","handleSubmit","name","_this4","validate","valid","success","catch","err","error","handleReset","changePage","mounted","600","version","sources","names","mappings","file","sourcesContent","sourceRoot","628","content","locals","663","_vm","_h","$createElement","_c","_self","attrs","$event","_v","ref","stripe","columns","staticStyle","margin","overflow","float","current","on-change","staticClass","model","rules","label-width","prop","placeholder","$$v","expression","_l","_s","margin-left","_e","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQO,EAAqBL,GAE7C,YEzBO,SAASM,GAAYC,GAE1B,MADY,4CACDC,KAAKD,EAAIE,QAyCf,QAASC,GAAOC,EAAOC,GAC1B,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAUE,OAAQD,IAClC,GAAIF,IAAUC,EAAUC,GACpB,OAAO,CAGf,QAAO,EFvBsBR,EAAuB,EAAIC,EAC7BN,EAAoBe,EAAEV,EAAqB,IAAK,WAAa,MAAOW,KAKlEX,EAAuB,EAAIK,CExBrD,IAAMM,GAAU,SAAAC,GAErB,MADY,qBACDT,KAAKS,KFiEZC,IACA,SAAUpB,EAAQO,EAAqBL,GAE7C,YACAmB,QAAOC,eAAef,EAAqB,cAAgBM,OAAO,GAC7C,IAAIU,GAA+CrB,EAAoB,KACnEsB,EAA4CtB,EAAoB,IAKrFuB,EAAaD,EAA2D,EAAEC,UGxC9ElB,GAAA,SH0CImB,KAAM,WGxCV,GAAAC,GAAAC,KH2CYC,EAAgB,SAAuBC,EAAMjB,EAAOkB,GAC/C7B,EAAoBa,EAAEQ,EAA8D,GAAGV,GGvCxGkB,IHwCgBA,EAAS,GAAIC,OG1C7B,eH+CQ,QACIC,SG1CZ,EH2CYC,SG1CZ,EH2CYC,WG1CZ,EH2CYC,YACIC,IGzChB,2BH0CgBC,SGzChB,eH0CgBC,SGzChB,SH0CgBC,aGzChB,iBH0CgBrB,MGzChB,YH0CgBsB,OGzChB,IH0CgBC,IGzChB,2BH0CgBC,IGzChB,EH0CgBC,WGxChB,cACA,cACA,cACA,cAIA,iBHmCYC,cACIP,SGlChB,iBHmCgBC,SGlChB,SHmCgBE,OGlChB,IHmCgBtB,MGlChB,cHmCgBqB,aGjChB,kBHmCYM,mBACIjC,MGjChB,iBHkCgBkC,MG/BhB,OHiCYC,gBACIC,KG/BhB,YHgCgBC,MG/BhB,KHgCgBC,MG9BhB,WHgCgBC,MG9BhB,KH+BgBC,IG9BhB,WH+BgBH,MG9BhB,MH+BgBI,UG7BhB,IH+BgBF,MG7BhB,OH8BgBC,IG7BhB,QH8BgBH,MG7BhB,MH8BgBI,UG5BhB,IH8BgBF,MG5BhB,KH6BgBC,IG5BhB,MH6BgBH,MG5BhB,MH6BgBI,UG5BhB,EH6BgBC,UACIR,MG3BpB,OH4BoBlC,MG1BpB,IH4BoBkC,MG1BpB,OH2BoBlC,MGzBpB,IH2BoBkC,MGzBpB,OH0BoBlC,MGxBpB,IH0BoBkC,MGxBpB,OHyBoBlC,MGvBpB,IHyBoBkC,MGvBpB,OHwBoBlC,MGpBpB,IHsBgB2C,aAAc,SAAsB3C,EAAO4C,GACvC,GAAIf,GAAMe,EGrB9Bf,GHsBoB,OAAc,KAAV7B,EACO6B,EGrB/B,GHsByC,IAAV7B,EACA6B,EGrB/B,GHsByC,IAAV7B,EACA6B,EGrB/B,GHsByC,IAAV7B,EACA6B,EGrB/B,GHsByC,IAAV7B,EACA6B,EGrB/B,OHoB2B,MAKXU,MGpBhB,KHqBgBC,IGpBhB,SHqBgBH,MGpBhB,KHqBgBI,UGnBhB,IHqBgBF,MGnBhB,OHoBgBC,IGnBhB,YHoBgBH,MGnBhB,MHoBgBI,UGlBhB,IHoBgBF,MGlBhB,KHmBgBC,IGlBhB,eHmBgBH,MGlBhB,MHmBgBI,UGjBhB,IHmBgBF,MGjBhB,KHkBgBC,IGjBhB,SHkBgBK,OAAQ,SAAgBC,EAAGC,GACvB,MAAOD,GAAE,OAAQA,EAAE,UACfE,OACIZ,KGhB5B,UHiB4Ba,KGf5B,SHiBwBC,OACIC,YGf5B,OHiBwBC,IACIC,MAAO,WACHvC,EAAMwC,KAAKP,EGhB3CQ,UAGA,MAdAT,EAAA,UH+BwBE,OACIZ,KGf5B,QHgB4Ba,KGd5B,SHgBwBG,IACIC,MAAO,SAAeG,GAClB1C,EAAM2C,OAAOV,EGf7CQ,UAIA,WHiBYG,cACIjC,WGbhBkC,UAAA,EAAAC,QAAA,UAAAC,QAEA,SHYgBnC,WGXhBiC,UAAA,EAAAC,QAAA,SAAAC,QAEA,SHUgBjC,SGThB+B,UAAA,EAAAC,QAAA,QAAAC,QAEA,WHQgBvD,QGPhBqD,UAAA,EAAAE,QAAA,OAAAC,UAEA9C,IHMgBW,eGLhBgC,UAAA,EAAAC,QAAA,UAAAC,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","file":"static/js/12.2ca9d83a8fbcba6be270.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ 486:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(628)\n}\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(582),\n  /* template */\n  __webpack_require__(663),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 489:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isWscnEmail;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return isPhone; });\n/* unused harmony export validateURL */\n/* unused harmony export validateLowerCase */\n/* unused harmony export validateUpperCase */\n/* unused harmony export validatAlphabets */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = oneOf;\n\nfunction isWscnEmail(str) {\n  var reg = /^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@\\w+\\.com$/i;\n  return reg.test(str.trim());\n}\n\nvar isPhone = function isPhone(phone) {\n  var reg = /^1[3-9]{1}[0-9]{9}/;\n  return reg.test(phone);\n};\n\nfunction validateURL(textval) {\n  var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\nfunction validateLowerCase(str) {\n  var reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\nfunction validateUpperCase(str) {\n  var reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\nfunction validatAlphabets(str) {\n  var reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n\nfunction oneOf(value, validList) {\n  for (var i = 0; i < validList.length; i++) {\n    if (value === validList[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/***/ }),\n\n/***/ 582:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_utils_validate__ = __webpack_require__(489);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_tools__ = __webpack_require__(95);\n\n\n\n\nvar filterDate = __WEBPACK_IMPORTED_MODULE_1_utils_tools__[\"a\" /* default */].filterDate;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        var _this = this;\n\n        var validatePhone = function validatePhone(rule, value, callback) {\n            if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_utils_validate__[\"a\" /* isPhone */])(value)) {\n                callback(new Error('请输入正确的手机号码'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            Collapse: 1,\n            loading: false,\n            addMerber: false,\n            tableData: [{\n                \"_id\": \"5a3d1a8af8ac693898b104be\",\n                \"username\": \"admin@wz.com\",\n                \"password\": \"123456\",\n                \"jurisdiction\": \"teacher-normal\",\n                \"phone\": 18816780001,\n                \"gender\": \"1\",\n                \"age\": \"2017-11-09T16:00:00.000Z\",\n                \"__v\": 0,\n                \"logindate\": [1513953930714, 1513954480038, 1513954592608, 1513954622692, 1513957796577]\n            }],\n            formValidate: {\n                username: 'admin@wz15.com',\n                password: '123456',\n                gender: '1',\n                phone: \"18816782415\",\n                jurisdiction: \"teacher-normal\"\n            },\n            jurisdictionList: [{\n                value: 'teacher-normal',\n                label: '教师'\n            }],\n            merberColumns: [{\n                'type': 'selection',\n                'width': '30',\n                'align': 'center'\n            }, {\n                'title': '姓名',\n                'key': 'username',\n                'width': '180',\n                \"sortable\": true\n            }, {\n                'title': '联系电话',\n                'key': 'phone',\n                'width': '150',\n                \"sortable\": true\n            }, {\n                'title': '年龄',\n                'key': 'age',\n                'width': '150',\n                \"sortable\": true,\n                filters: [{\n                    label: '小于20',\n                    value: 0\n                }, {\n                    label: '大于20',\n                    value: 1\n                }, {\n                    label: '大于40',\n                    value: 2\n                }, {\n                    label: '大于60',\n                    value: 3\n                }, {\n                    label: '小于40',\n                    value: 4\n                }],\n                filterMethod: function filterMethod(value, row) {\n                    var age = row.age;\n                    if (value === 0) {\n                        return age < 20;\n                    } else if (value === 1) {\n                        return age > 20;\n                    } else if (value === 2) {\n                        return age > 40;\n                    } else if (value === 3) {\n                        return age > 60;\n                    } else if (value === 4) {\n                        return age < 40;\n                    }\n                }\n            }, {\n                'title': '性别',\n                'key': 'gender',\n                'width': '80',\n                \"sortable\": true\n            }, {\n                'title': '登录时间',\n                'key': 'logindate',\n                'width': '200',\n                \"sortable\": true\n            }, {\n                'title': '级别',\n                'key': 'jurisdiction',\n                'width': '200',\n                \"sortable\": true\n            }, {\n                title: '操作',\n                key: 'action',\n                render: function render(h, params) {\n                    return h('div', [h('Button', {\n                        props: {\n                            type: 'primary',\n                            size: 'small'\n                        },\n                        style: {\n                            marginRight: '5px'\n                        },\n                        on: {\n                            click: function click() {\n                                _this.edit(params.index);\n                            }\n                        }\n                    }, '修改'), h('Button', {\n                        props: {\n                            type: 'error',\n                            size: 'small'\n                        },\n                        on: {\n                            click: function click(events) {\n                                _this.remove(params.index);\n                            }\n                        }\n                    }, '删除')]);\n                }\n            }],\n            ruleValidate: {\n                username: [{ required: true, message: '用户名不能为空', trigger: 'blur' }],\n                password: [{ required: true, message: '密码不能为空', trigger: 'blur' }],\n                gender: [{ required: true, message: '请选择性别', trigger: 'change' }],\n                phone: [{ required: true, trigger: \"blur\", validator: validatePhone }],\n                jurisdiction: [{ required: true, message: '请选择用户类型', trigger: \"blur\" }]\n            },\n            skipPage: {\n                pageSize: 10,\n                currentPage: 1,\n                sort: { 'logindate': -1 },\n                condition: {},\n                total: 0\n            }\n        };\n    },\n\n    methods: {\n        reqMerberList: function reqMerberList() {\n            var _this2 = this;\n\n            this.vFetch.merberList(this.skipPage).then(function (res) {\n                _this2.$Message.info(res.message);\n                if (res.status === 200) {\n                    var obj = [];\n                    res.res.forEach(function (item, i) {\n                        for (var key in item) {\n                            var value = item[key];\n                            if (key === 'gender') {\n                                if (value === '1') {\n                                    value = '男';\n                                } else if (value === '0') {\n                                    value = '女';\n                                }\n                            }\n                            if (key === 'age') {\n                                value = filterDate(value);\n                            }\n                            if (key === 'logindate') {\n                                value = Array.isArray(value) ? value[value.length - 1] : value;\n                                value = filterDate(value);\n                            }\n                            if (/^\\__/.test(key)) {\n                                key = key.slice(2);\n                            } else if (/^\\_/.test(key)) {\n                                key = key.slice(1);\n                            }\n\n                            if (!obj[i]) {\n                                obj[i] = {};\n                            }\n                            obj[i][key] = value;\n                        }\n                    });\n\n                    _this2.tableData = obj;\n                    _this2.skipPage.total = res.total;\n                    _this2.skipPage.currentPage = res.page;\n                    _this2.$forceUpdate();\n                }\n            });\n        },\n        exportData: function exportData(type) {\n            this.$refs.table.exportCsv({\n                filename: '排序和过滤后的数据',\n                original: false\n            });\n        },\n        edit: function edit(index) {\n            this.$router.push({ path: '/merber/details', query: { username: this.tableData[index].username } });\n        },\n        remove: function remove(index) {\n            var _this3 = this;\n\n            var obj = {\n                username: this.tableData[index].username,\n\n                token: this.$store.state.user.token\n            };\n            this.vFetch.merberRemove(obj).then(function (res) {\n                _this3.$Message.info(res.message);\n                if (res.status === 200) {\n                    _this3.tableData.splice(index, 1);\n                }\n            });\n        },\n        btnMerberOk: function btnMerberOk() {\n            this.$Message.info('点击了确定');\n        },\n        btnMerberCancel: function btnMerberCancel() {\n            this.$Message.info('点击了取消');\n        },\n        handleSubmit: function handleSubmit(name) {\n            var _this4 = this;\n\n            if (this.loading) {\n                return;\n            }\n            this.loading = true;\n            this.$refs[name].validate(function (valid) {\n                if (valid) {\n                    var obj = _this4.formValidate;\n                    obj.token = _this4.$store.state.user.token;\n                    _this4.vFetch.addMerber(obj).then(function (res) {\n                        _this4.$Message.success(res.message);\n                        _this4.loading = false;\n                        if (res.status === 200) {\n                            _this4.addMerber = !_this4.addMerber;\n                            _this4.$router.push({ path: '/merber/list' });\n                        }\n                    }).catch(function (err) {\n                        if (err) {\n                            _this4.$Message.error(err);\n                        }\n                        _this4.loading = false;\n                    });\n                } else {\n                    _this4.$Message.error('表单验证失败!');\n                    _this4.loading = false;\n                }\n            });\n        },\n        handleReset: function handleReset(name) {\n            for (var key in this.formValidate) {\n                var value = this.formValidate[key];\n                this.formValidate[key] = '';\n            }\n        },\n        changePage: function changePage(index) {\n            this.skipPage.currentPage = index;\n            this.reqMerberList();\n        }\n    },\n    mounted: function mounted() {\n        this.reqMerberList();\n    }\n});\n\n/***/ }),\n\n/***/ 600:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(444)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".slide-fade-enter-active{transition:all .3s ease}.slide-fade-leave-active{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter,.slide-fade-leave-to{transform:translateX(10px);opacity:0}.addMerberForm{position:absolute;top:160px;width:100%;height:100%;background:#fff;padding:30px;z-index:10}\", \"\", {\"version\":3,\"sources\":[\"E:/wanpWWW/node-vue-react-mongodb/vue_/src/views/system/merber/list.vue\"],\"names\":[],\"mappings\":\"AAuWA,yBACA,uBAAyB,CACxB,AACD,yBACA,0CAAqD,CACpD,AACD,uCAEA,2BAA4B,AAC5B,SAAW,CACV,AACD,eACI,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,aAAc,AACd,UAAY,CACf\",\"file\":\"list.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/* 可以设置不同的进入和离开动画 */\\n/* 设置持续时间和动画函数 */\\n.slide-fade-enter-active {\\ntransition: all .3s ease;\\n}\\n.slide-fade-leave-active {\\ntransition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\\n}\\n.slide-fade-enter, .slide-fade-leave-to\\n/* .slide-fade-leave-active for below version 2.1.8 */ {\\ntransform: translateX(10px);\\nopacity: 0;\\n}\\n.addMerberForm{\\n    position: absolute;\\n    top: 160px;\\n    width: 100%;\\n    height: 100%;\\n    background: #fff;\\n    padding: 30px;\\n    z-index: 10;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 628:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(600);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(445)(\"f0b8f8e8\", content, true);\n\n/***/ }),\n\n/***/ 663:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', [_c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addMerber = !_vm.addMerber\n      }\n    }\n  }, [_vm._v(\"添加会员\")])], 1), _vm._v(\" \"), _c('Table', {\n    ref: \"table\",\n    attrs: {\n      \"stripe\": \"\",\n      \"columns\": _vm.merberColumns,\n      \"data\": _vm.tableData,\n      \"size\": \"small\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"10px\",\n      \"overflow\": \"hidden\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"float\": \"right\"\n    }\n  }, [_c('Page', {\n    attrs: {\n      \"total\": _vm.skipPage.total,\n      \"current\": _vm.skipPage.currentPage\n    },\n    on: {\n      \"on-change\": _vm.changePage\n    }\n  })], 1)]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.exportData(2)\n      }\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-download-outline\"\n    }\n  }), _vm._v(\" 导出排序和过滤后的数据\")], 1), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"slide-fade\"\n    }\n  }, [(_vm.addMerber) ? _c('div', {\n    staticClass: \"addMerberForm\"\n  }, [_c('i-form', {\n    ref: \"formValidate\",\n    attrs: {\n      \"model\": _vm.formValidate,\n      \"rules\": _vm.ruleValidate,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"username\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"请输入姓名\"\n    },\n    model: {\n      value: (_vm.formValidate.username),\n      callback: function($$v) {\n        _vm.formValidate.username = $$v\n      },\n      expression: \"formValidate.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请设置密码\"\n    },\n    model: {\n      value: (_vm.formValidate.password),\n      callback: function($$v) {\n        _vm.formValidate.password = $$v\n      },\n      expression: \"formValidate.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"手机号码\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"请输入手机号码\"\n    },\n    model: {\n      value: (_vm.formValidate.phone),\n      callback: function($$v) {\n        _vm.formValidate.phone = $$v\n      },\n      expression: \"formValidate.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"用户类型\",\n      \"prop\": \"jurisdiction\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"请输入用户类型\"\n    },\n    model: {\n      value: (_vm.formValidate.jurisdiction),\n      callback: function($$v) {\n        _vm.formValidate.jurisdiction = $$v\n      },\n      expression: \"formValidate.jurisdiction\"\n    }\n  }, _vm._l((_vm.jurisdictionList), function(item) {\n    return _c('Option', {\n      key: item.value,\n      attrs: {\n        \"value\": item.value\n      }\n    }, [_vm._v(_vm._s(item.label))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"性别\",\n      \"prop\": \"gender\"\n    }\n  }, [_c('RadioGroup', {\n    model: {\n      value: (_vm.formValidate.gender),\n      callback: function($$v) {\n        _vm.formValidate.gender = $$v\n      },\n      expression: \"formValidate.gender\"\n    }\n  }, [_c('Radio', {\n    attrs: {\n      \"label\": \"1\"\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('Radio', {\n    attrs: {\n      \"label\": \"0\"\n    }\n  }, [_vm._v(\"女\")])], 1)], 1), _vm._v(\" \"), _c('Form-item', [_c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleSubmit('formValidate')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('i-button', {\n    staticStyle: {\n      \"margin-left\": \"8px\"\n    },\n    attrs: {\n      \"type\": \"ghost\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleReset('formValidate')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/12.2ca9d83a8fbcba6be270.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02ea7f3c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02ea7f3c\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/merber/list.vue\n// module id = 486\n// module chunks = 12","/**\n */\n\n/* 是否是公司邮箱*/\nexport function isWscnEmail(str) {\n  const reg = /^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@\\w+\\.com$/i;\n  return reg.test(str.trim());\n}\n\n/*\n验证是否是合法的手机号码；\n*/\nexport const isPhone = phone => {\n  const reg = /^1[3-9]{1}[0-9]{9}/;\n  return reg.test(phone);\n}\n\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 验证key*/\n// export function validateKey(str) {\n//     var reg = /^[a-z_\\-:]+$/;\n//     return reg.test(str);\n// }\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nexport function validatAlphabets(str) {\n  const reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n\nexport function oneOf (value, validList) {\n    for (let i = 0; i < validList.length; i++) {\n        if (value === validList[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","<template>\r\n  <div>\r\n        <div>\r\n            <i-button type=\"primary\" @click=\"addMerber = !addMerber\">添加会员</i-button>\r\n        </div>\r\n        <Table stripe :columns=\"merberColumns\" :data=\"tableData\" size=\"small\" ref=\"table\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n            <div style=\"float: right;\">\r\n                <Page :total=\"skipPage.total\" :current=\"skipPage.currentPage\" @on-change=\"changePage\"></Page>\r\n            </div>\r\n        </div>\r\n        <!-- Change Loading Status <Switch v-model=\"loading\"></Switch> -->\r\n        <!-- loading='loading'  -->\r\n            <i-button type=\"primary\" size=\"large\" @click=\"exportData(2)\"><Icon type=\"ios-download-outline\"></Icon> 导出排序和过滤后的数据</i-button>\r\n        <transition name=\"slide-fade\">\r\n            <div v-if='addMerber' class='addMerberForm'>\r\n                <i-form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n                    <Form-item label=\"用户名\" prop=\"username\"> \r\n                        <Input  v-model=\"formValidate.username\" placeholder=\"请输入姓名\"></Input>\r\n                    </Form-item>\r\n                    <Form-item label=\"密码\" prop=\"password\">\r\n                        <Input type='password' v-model=\"formValidate.password\" placeholder=\"请设置密码\"></Input>\r\n                    </Form-item>\r\n                    <Form-item label=\"手机号码\" prop=\"phone\">\r\n                        <Input v-model=\"formValidate.phone\" placeholder=\"请输入手机号码\"></Input>\r\n                    </Form-item>\r\n                    <Form-item label='用户类型' prop=\"jurisdiction\" >\r\n                        <Select v-model=\"formValidate.jurisdiction\" placeholder=\"请输入用户类型\" >\r\n                        <Option v-for=\"item in jurisdictionList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                        </Select>\r\n                    </Form-item>\r\n                    <FormItem label=\"性别\" prop=\"gender\" >\r\n                        <RadioGroup v-model=\"formValidate.gender\">\r\n                            <Radio label=\"1\">男</Radio>\r\n                            <Radio label=\"0\">女</Radio>\r\n                        </RadioGroup>\r\n                    </FormItem>\r\n                    <Form-item>\r\n                        <i-button type=\"primary\" @click=\"handleSubmit('formValidate')\">提交</i-button>\r\n                        <i-button type=\"ghost\" @click=\"handleReset('formValidate')\" style=\"margin-left: 8px\">重置</i-button>\r\n                    </Form-item>\r\n                </i-form>\r\n            </div>\r\n        </transition>\r\n  </div>\r\n</template>\r\n<script>\r\n    import { isPhone } from 'utils/validate';\r\n    import tools from 'utils/tools';\r\n    let filterDate = tools.filterDate;\r\nexport default {\r\n    data() {\r\n        const validatePhone = (rule, value, callback) => {\r\n          if (!isPhone(value)) {\r\n            callback( new Error('请输入正确的手机号码'));\r\n          } else {\r\n            callback();\r\n          }\r\n        };\r\n        return {\r\n            Collapse: 1,\r\n            loading: false,\r\n            addMerber: false,\r\n            tableData: [\r\n                {\r\n                    \"_id\": \"5a3d1a8af8ac693898b104be\",\r\n                    \"username\": \"admin@wz.com\",\r\n                    \"password\": \"123456\",\r\n                    \"jurisdiction\": \"teacher-normal\",\r\n                    \"phone\": 18816780001,\r\n                    \"gender\": \"1\",\r\n                    \"age\": \"2017-11-09T16:00:00.000Z\",\r\n                    \"__v\": 0,\r\n                    \"logindate\": [\r\n                        1513953930714,\r\n                        1513954480038,\r\n                        1513954592608,\r\n                        1513954622692,\r\n                        1513957796577\r\n                    ]\r\n                }\r\n            ],\r\n            formValidate: {\r\n                username: 'admin@wz15.com',\r\n                password: '123456',\r\n                gender: '1',\r\n                phone: \"18816782415\",\r\n                jurisdiction: \"teacher-normal\"\r\n            },\r\n            jurisdictionList: [\r\n                {\r\n                    value: 'teacher-normal',\r\n                    label: '教师'\r\n                }\r\n            ],\r\n            merberColumns: [\r\n                    {\r\n                        'type': 'selection',\r\n                        'width': '30',\r\n                        'align': 'center'\r\n                    },\r\n                    {\r\n                        'title': '姓名',\r\n                        'key': 'username',\r\n                        'width': '180',\r\n                        \"sortable\": true,\r\n                    },\r\n                    {\r\n                        'title': '联系电话',\r\n                        'key': 'phone',\r\n                        'width': '150',\r\n                        \"sortable\": true,\r\n                    },\r\n                    {\r\n                        'title': '年龄',\r\n                        'key': 'age',\r\n                        'width': '150',\r\n                        \"sortable\": true,\r\n                        filters: [\r\n                            {\r\n                                label: '小于20',\r\n                                value: 0\r\n                            },\r\n                            {\r\n                                label: '大于20',\r\n                                value: 1\r\n                            },\r\n                            {\r\n                                label: '大于40',\r\n                                value: 2\r\n                            },\r\n                            {\r\n                                label: '大于60',\r\n                                value: 3\r\n                            },\r\n                            {\r\n                                label: '小于40',\r\n                                value: 4\r\n                            }\r\n                        ],\r\n                        // filterMultiple: false,\r\n                        filterMethod (value, row) {\r\n                            var age = row.age;\r\n                            if (value === 0) {\r\n                                return age < 20;\r\n                            } else if (value === 1) {\r\n                                return age > 20\r\n                            } else if (value === 2) {\r\n                                return age > 40;\r\n                            } else if (value === 3) {\r\n                                return age > 60;\r\n                            } else if (value === 4) {\r\n                                return age<40\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        'title': '性别',\r\n                        'key': 'gender',\r\n                        'width': '80',\r\n                        \"sortable\": true,\r\n                    },\r\n                    {\r\n                        'title': '登录时间',\r\n                        'key': 'logindate',\r\n                        'width': '200',\r\n                        \"sortable\": true,\r\n                    },\r\n                    {\r\n                        'title': '级别',\r\n                        'key': 'jurisdiction',\r\n                        'width': '200',\r\n                        \"sortable\": true,\r\n                    },\r\n                    {\r\n                        title: '操作',\r\n                        key: 'action',\r\n                        render: (h, params) => {\r\n                            return h('div', [\r\n                                h('Button', {\r\n                                    props: {\r\n                                        type: 'primary',\r\n                                        size: 'small'\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: '5px'\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.edit(params.index)\r\n                                        }\r\n                                    }\r\n                                }, '修改'),\r\n                                h('Button', {\r\n                                    props: {\r\n                                        type: 'error',\r\n                                        size: 'small'\r\n                                    },\r\n                                    on: {\r\n                                        click: (events) => {\r\n                                            this.remove(params.index)\r\n                                        }\r\n                                    }\r\n                                }, '删除')\r\n                            ]);\r\n                        }\r\n                    },\r\n            ],\r\n            ruleValidate: {\r\n                    username: [\r\n                        { required: true, message: '用户名不能为空', trigger: 'blur' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '密码不能为空', trigger: 'blur' },\r\n                    ],\r\n                    gender: [\r\n                        { required: true, message: '请选择性别', trigger: 'change' }\r\n                    ],\r\n                    phone: [\r\n                        { required: true, trigger: \"blur\" , validator: validatePhone }\r\n                    ],\r\n                    jurisdiction: [\r\n                        { required: true, message: '请选择用户类型', trigger: \"blur\" }\r\n                    ]\r\n            },\r\n            skipPage: {\r\n                pageSize : 10,\r\n                currentPage: 1,\r\n                sort: {'logindate': -1},\r\n                condition: {},\r\n                total: 0,\r\n            }\r\n        }\r\n    },\r\n  methods: {\r\n      // 请求数据\r\n    reqMerberList() {\r\n        this.vFetch.merberList(this.skipPage).then(res => {\r\n            this.$Message.info(res.message);\r\n            if (res.status === 200) {\r\n                var obj = [];\r\n                res.res.forEach((item, i) => {\r\n                    for (var key in item) {\r\n                        var value = item[key];\r\n                        if (key === 'gender') {\r\n                            if (value === '1') {\r\n                                value = '男';\r\n                            } else if (value === '0') {\r\n                                value = '女';\r\n                            }\r\n                        }\r\n                        if (key === 'age') {\r\n                            value = filterDate(value);\r\n                        }\r\n                        if (key === 'logindate') {\r\n                            value = Array.isArray(value) ? value[value.length-1] : value;\r\n                            value = filterDate(value);\r\n                        }\r\n                        if (/^\\__/.test(key)) {\r\n                            key = key.slice(2);\r\n                        } else if (/^\\_/.test(key)) {\r\n                            key = key.slice(1);\r\n                        } \r\n                        // 当不存在， 就常见对象；\r\n                        if (!obj[i]) {\r\n                            obj[i] = {};\r\n                        }\r\n                        obj[i][key] = value;\r\n                    }\r\n                })\r\n                //更新数据；\r\n                this.tableData = obj;\r\n                this.skipPage.total = res.total;\r\n                this.skipPage.currentPage = res.page;\r\n                this.$forceUpdate()\r\n            }\r\n        })\r\n    },\r\n    exportData (type) {\r\n        this.$refs.table.exportCsv({\r\n            filename: '排序和过滤后的数据',\r\n            original: false\r\n        });\r\n    },\r\n    edit (index) {\r\n        this.$router.push({path: '/merber/details', query: { username: this.tableData[index].username }})\r\n        // this.$Modal.info({\r\n        //     title: '用户信息',\r\n        //     content: `姓名：<br>年龄：<br>地址：`\r\n        // })\r\n    },\r\n    remove (index) {\r\n        var obj = {\r\n            username: this.tableData[index].username,\r\n            // username: '1',\r\n            token: this.$store.state.user.token\r\n        }\r\n        this.vFetch.merberRemove(obj).then(res => {\r\n            this.$Message.info(res.message);\r\n            if (res.status === 200) {\r\n                this.tableData.splice(index, 1);\r\n                // this.$router.push({ path: '/merber/list' });\r\n            }\r\n        })\r\n    },\r\n    btnMerberOk () {\r\n        this.$Message.info('点击了确定');\r\n    },\r\n    btnMerberCancel () {\r\n        this.$Message.info('点击了取消');\r\n    },\r\n    // 添加数据；\r\n    handleSubmit (name) {\r\n        if (this.loading) {\r\n            return ;\r\n        }\r\n        this.loading = true;\r\n        this.$refs[name].validate((valid) => {\r\n            if (valid) {\r\n                var obj = this.formValidate;\r\n                obj.token = this.$store.state.user.token;\r\n                this.vFetch.addMerber(obj).then(res => {\r\n                    this.$Message.success(res.message);\r\n                    this.loading = false;\r\n                    if (res.status === 200) {\r\n                        this.addMerber = !this.addMerber;\r\n                        this.$router.push({ path: '/merber/list' });\r\n                    }\r\n                }).catch(err => {\r\n                    if (err) {\r\n                        this.$Message.error(err);\r\n                    }\r\n                    this.loading = false;\r\n                })\r\n            } else {\r\n                this.$Message.error('表单验证失败!');\r\n                this.loading = false;\r\n            }\r\n        })\r\n    },\r\n    handleReset (name) {\r\n        for (var key in this.formValidate) {\r\n            var value = this.formValidate[key];\r\n            this.formValidate[key] = '';\r\n        }\r\n    },\r\n    changePage(index) {\r\n        this.skipPage.currentPage = index;\r\n        this.reqMerberList();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.reqMerberList();\r\n  }\r\n}\r\n</script>\r\n<style>\r\n    /* 可以设置不同的进入和离开动画 */\r\n    /* 设置持续时间和动画函数 */\r\n    .slide-fade-enter-active {\r\n    transition: all .3s ease;\r\n    }\r\n    .slide-fade-leave-active {\r\n    transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\r\n    }\r\n    .slide-fade-enter, .slide-fade-leave-to\r\n    /* .slide-fade-leave-active for below version 2.1.8 */ {\r\n    transform: translateX(10px);\r\n    opacity: 0;\r\n    }\r\n\r\n    .addMerberForm{\r\n        position: absolute;\r\n        top: 160px;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #fff;\r\n        padding: 30px;\r\n        z-index: 10;\r\n    }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// list.vue?954c1dce","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".slide-fade-enter-active{transition:all .3s ease}.slide-fade-leave-active{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter,.slide-fade-leave-to{transform:translateX(10px);opacity:0}.addMerberForm{position:absolute;top:160px;width:100%;height:100%;background:#fff;padding:30px;z-index:10}\", \"\", {\"version\":3,\"sources\":[\"E:/wanpWWW/node-vue-react-mongodb/vue_/src/views/system/merber/list.vue\"],\"names\":[],\"mappings\":\"AAuWA,yBACA,uBAAyB,CACxB,AACD,yBACA,0CAAqD,CACpD,AACD,uCAEA,2BAA4B,AAC5B,SAAW,CACV,AACD,eACI,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,aAAc,AACd,UAAY,CACf\",\"file\":\"list.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/* 可以设置不同的进入和离开动画 */\\n/* 设置持续时间和动画函数 */\\n.slide-fade-enter-active {\\ntransition: all .3s ease;\\n}\\n.slide-fade-leave-active {\\ntransition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\\n}\\n.slide-fade-enter, .slide-fade-leave-to\\n/* .slide-fade-leave-active for below version 2.1.8 */ {\\ntransform: translateX(10px);\\nopacity: 0;\\n}\\n.addMerberForm{\\n    position: absolute;\\n    top: 160px;\\n    width: 100%;\\n    height: 100%;\\n    background: #fff;\\n    padding: 30px;\\n    z-index: 10;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-02ea7f3c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/system/merber/list.vue\n// module id = 600\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02ea7f3c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"f0b8f8e8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-02ea7f3c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/system/merber/list.vue\n// module id = 628\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', [_c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addMerber = !_vm.addMerber\n      }\n    }\n  }, [_vm._v(\"添加会员\")])], 1), _vm._v(\" \"), _c('Table', {\n    ref: \"table\",\n    attrs: {\n      \"stripe\": \"\",\n      \"columns\": _vm.merberColumns,\n      \"data\": _vm.tableData,\n      \"size\": \"small\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"10px\",\n      \"overflow\": \"hidden\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"float\": \"right\"\n    }\n  }, [_c('Page', {\n    attrs: {\n      \"total\": _vm.skipPage.total,\n      \"current\": _vm.skipPage.currentPage\n    },\n    on: {\n      \"on-change\": _vm.changePage\n    }\n  })], 1)]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.exportData(2)\n      }\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-download-outline\"\n    }\n  }), _vm._v(\" 导出排序和过滤后的数据\")], 1), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"slide-fade\"\n    }\n  }, [(_vm.addMerber) ? _c('div', {\n    staticClass: \"addMerberForm\"\n  }, [_c('i-form', {\n    ref: \"formValidate\",\n    attrs: {\n      \"model\": _vm.formValidate,\n      \"rules\": _vm.ruleValidate,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"username\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"请输入姓名\"\n    },\n    model: {\n      value: (_vm.formValidate.username),\n      callback: function($$v) {\n        _vm.formValidate.username = $$v\n      },\n      expression: \"formValidate.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请设置密码\"\n    },\n    model: {\n      value: (_vm.formValidate.password),\n      callback: function($$v) {\n        _vm.formValidate.password = $$v\n      },\n      expression: \"formValidate.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"手机号码\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"请输入手机号码\"\n    },\n    model: {\n      value: (_vm.formValidate.phone),\n      callback: function($$v) {\n        _vm.formValidate.phone = $$v\n      },\n      expression: \"formValidate.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"用户类型\",\n      \"prop\": \"jurisdiction\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"请输入用户类型\"\n    },\n    model: {\n      value: (_vm.formValidate.jurisdiction),\n      callback: function($$v) {\n        _vm.formValidate.jurisdiction = $$v\n      },\n      expression: \"formValidate.jurisdiction\"\n    }\n  }, _vm._l((_vm.jurisdictionList), function(item) {\n    return _c('Option', {\n      key: item.value,\n      attrs: {\n        \"value\": item.value\n      }\n    }, [_vm._v(_vm._s(item.label))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"性别\",\n      \"prop\": \"gender\"\n    }\n  }, [_c('RadioGroup', {\n    model: {\n      value: (_vm.formValidate.gender),\n      callback: function($$v) {\n        _vm.formValidate.gender = $$v\n      },\n      expression: \"formValidate.gender\"\n    }\n  }, [_c('Radio', {\n    attrs: {\n      \"label\": \"1\"\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('Radio', {\n    attrs: {\n      \"label\": \"0\"\n    }\n  }, [_vm._v(\"女\")])], 1)], 1), _vm._v(\" \"), _c('Form-item', [_c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleSubmit('formValidate')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('i-button', {\n    staticStyle: {\n      \"margin-left\": \"8px\"\n    },\n    attrs: {\n      \"type\": \"ghost\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleReset('formValidate')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-02ea7f3c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/system/merber/list.vue\n// module id = 663\n// module chunks = 12"],"sourceRoot":""}